
<!DOCTYPE HTML>
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Auto mapping properties
        | Elasticsearch.Net and NEST: the .NET clients [2.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch.Net and NEST: the .NET clients [2.x]" /><link rel="up" href="nest.html" title="Client Concepts - NEST" /><link rel="prev" href="features-inference.html" title="Features Inference" /><link rel="next" href="covariant-search-results.html" title="Covariant Search Results" /><meta name="DC.type" content="Docs/Clients/.Net/2.x" />
  
 	<meta http-equiv="content-type" content="text/html; charset=utf-8" />

 	<!-- RTP tag -->
	<script type='text/javascript' async>
	(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
	 c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
	 g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
	 })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");

	rtp('send','view');
	rtp('get', 'campaign',true);
	</script>
	<!-- End of RTP tag -->

	
 	<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">

<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >


<!-- end DC tags -->

	<meta name="description" content="" />

	<link rel="canonical" href="" />

	<meta property="og:image" content="https://www.elastic.co/static/img/elastic-logo-200.png" />
	

		


	
	<link type="text/css" rel="stylesheet" href="https://stag-static-www.elastic.co/static/css/skel.css?q=500" />
	<link type="text/css" rel="stylesheet" href="https://stag-static-www.elastic.co/static/css/style.css?q=500" />
	<script src="https://stag-static-www.elastic.co/static/js/skel.min.js?q=500"></script>
	
		<script type="text/javascript">form_name = "" ; cdn_url="https://stag-static-www.elastic.co";cdn_slug = "500"</script>
	
	<script src="https://stag-static-www.elastic.co/static/js/init.js?q=500"></script>
	<script src="https://stag-static-www.elastic.co/static/js/jquery.min.js?q=500"></script>
	<script src="https://stag-static-www.elastic.co/static/js/jquery.cookie.js?q=500"></script>
	<!--<script type="text/javascript">
	    (function() {
	        var path = '//easy.myfonts.net/v2/js?sid=10336(font-family=Avenir+35+Light)&sid=10338(font-family=Avenir+55+Roman)&sid=10340(font-family=Avenir+85+Heavy)&sid=10344(font-family=Avenir+65+Medium)&key=nAD6PCOPrX',
	            protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
	            trial = document.createElement('script');
	        trial.type = 'text/javascript';
	        trial.async = true;
	        trial.src = protocol + path;
	        var head = document.getElementsByTagName("head")[0];
	        head.appendChild(trial);
	    })();
	</script>-->
	
	<link type="text/css" rel="stylesheet" href="/static/css/prettify.css" />
	<script type="text/javascript" src="/static/js/prettify.js"></script>



<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
<body >
	<!-- Google Tag Manager -->
	<script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
													  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script>
	<!-- End Google Tag Manager -->
	<!-- begin olark code -->
	<script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
	f[z]=function(){
	(a.s=a.s||[]).push(arguments)};var a=f[z]._={
	},q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
	f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
	0:+new Date};a.P=function(u){
	a.p[u]=new Date-a.p[0]};function s(){
	a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
	hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
	return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
	b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
	b.contentWindow[g].open()}catch(w){
	c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
	var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
	b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
	loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
	/* custom configuration goes here (www.olark.com/documentation) */
	olark.identify('1356-750-10-5709');/*]]>*/</script><noscript><a href="https://www.olark.com/site/1356-750-10-5709/contact" title="Contact us" target="_blank">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
	<!-- end olark code -->


	<div class="header-cont">
		<div id="header-wrapper">
			


	<script src="/static/js/jquery.tokeninput.js?change=123"></script>
	<link rel="stylesheet" type="text/css" href="/static/css/token-input.css">

<div class="shortcuts-wrapper">
	<div class="container">
		<!-- Shortcuts -->
		<nav id="shortcuts">
			<ul class="links">
				
					
					
						
						
					
					
					
						
					
					
					<li class="shortcut-1">
					

					
						<a href="/downloads" id="header_downloads">
							<span class="txt">downloads</span>
						</a>
					
					</li>
				
					
					
						
						
					
					
					
						
					
					
					<li class="shortcut-2">
					

					
						<a href="/guide" id="header_guide">
							<span class="txt">docs</span>
						</a>
					
					</li>
				
					
					
						
						
					
					
					
						
					
					
					<li class="shortcut-3">
					

					
						<a href="/subscriptions" id="header_subscriptions">
							<span class="txt">support</span>
						</a>
					
					</li>
				
					
					
						
						
					
					
					
						
					
					
					<li class="shortcut-4">
					

					
						<a href="https://discuss.elastic.co" id="header_forums" target="_blank">
							<span class="txt">forums</span>
						</a>
					
					</li>
				
					
					
						
						
					
					
					
						
						
					
					
					<li class="shortcut-5">
					

					
						<a href="/contact?storm=global-header-en" id="header_contact">
							<span class="txt">contact</span>
						</a>
					
					</li>
				
			</ul>
		</nav>
		<div class="languages-wrapper">
			<div class="global-language">
				<ul class="language">
					
						<li><a href="#">EN</a></li>
					
				</ul>
				<ul class="all-languages">
					
						
							
						
						<li><a href="/">English</a></li>
					
						
							
						
						<li><a href="/fr/">French</a></li>
					
						
							
						
						<li><a href="/de/">German</a></li>
					
						
							
						
						<li><a href="/jp/">Japanese</a></li>
					
						
							
						
						<li><a href="/kr/">Korean</a></li>
					
				</ul>
			</div>
		</div>
	</div>
</div>
<div class="container w100">
	<div class="row 0%">
		<div class="12u">
			

<section class="first-container desktop-main-nav">
	<div class="row 0%">
		<div class="11u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" viewBox="-155 383.3 687.5 235.7" xml:space="preserve" enable-background="new -155 383.3 687.5 235.7"><path fill="#FFFFFF" d="M81.6 506.8c0-19.8-12.3-37.2-30.8-43.9 0.8-4.2 1.2-8.4 1.2-12.7 0-36.9-30-66.9-66.8-66.9 -21.6 0-41.6 10.3-54.2 27.7 -6.2-4.8-13.8-7.4-21.7-7.4 -19.6 0-35.5 15.9-35.5 35.5 0 4.3 0.8 8.5 2.2 12.4 -18.4 6.6-31 24.3-31 44 0 19.9 12.4 37.3 30.9 44 -0.8 4.1-1.2 8.4-1.2 12.7 0 36.8 29.9 66.7 66.7 66.7 21.6 0 41.6-10.4 54.1-27.8 6.2 4.9 13.8 7.6 21.7 7.6 19.6 0 35.5-15.9 35.5-35.5 0-4.3-0.8-8.5-2.2-12.4C68.9 544.2 81.6 526.5 81.6 506.8"/><path fill="#FED10A" d="M-62 484.8l51.8 23.6L42 462.6c0.8-3.8 1.1-7.5 1.1-11.5 0-32.2-26.2-58.4-58.4-58.4 -19.3 0-37.2 9.5-48.1 25.4l-8.7 45.1L-62 484.8z"/><path fill="#24BBB1" d="M-115.6 539.6c-0.8 3.8-1.1 7.7-1.1 11.7 0 32.3 26.3 58.5 58.6 58.5 19.4 0 37.5-9.6 48.4-25.6l8.6-44.9 -11.5-22 -52-23.7L-115.6 539.6z"/><path fill="#EF5098" d="M-115.9 450l35.5 8.4 7.8-40.3c-4.8-3.7-10.8-5.7-17-5.7 -15.4 0-28 12.5-28 28C-117.6 443.7-117 447-115.9 450"/><path fill="#17A8E0" d="M-119 458.5c-15.8 5.2-26.9 20.4-26.9 37.1 0 16.3 10.1 30.8 25.2 36.6l49.8-45 -9.1-19.5L-119 458.5z"/><path fill="#93C83E" d="M-0.7 584.2c4.9 3.7 10.8 5.8 16.9 5.8 15.4 0 28-12.5 28-28 0-3.4-0.6-6.7-1.7-9.7L7.1 544 -0.7 584.2z"/><path fill="#0779A1" d="M6.5 534.7l39 9.1c15.9-5.2 26.9-20.4 26.9-37.2 0-16.2-10.1-30.8-25.2-36.5l-51 44.7L6.5 534.7z"/><path d="M175.8 548.8l4.7-0.5 0.3 9.6c-12.4 1.7-23 2.6-31.8 2.6 -11.7 0-20-3.4-24.9-10.2s-7.3-17.4-7.3-31.7c0-28.6 11.4-42.9 34.1-42.9 11 0 19.2 3.1 24.6 9.2s8.1 15.8 8.1 28.9l-0.7 9.3h-53.8c0 9 1.6 15.7 4.9 20 3.3 4.3 8.9 6.5 17 6.5C159.2 549.8 167.4 549.5 175.8 548.8zM171.4 513.5c0-10-1.6-17.1-4.8-21.2 -3.2-4.1-8.4-6.2-15.6-6.2s-12.7 2.2-16.3 6.5c-3.6 4.3-5.5 11.3-5.6 20.9H171.4z"/><path d="M200.6 559V442h12.2v117H200.6z"/><path d="M289.9 502.1v40.1c0 4.1 10.1 4.9 10.1 4.9l-0.6 10.8c-8.6 0-15.7 0.7-20-3.4 -9.8 4.3-19.5 6.1-29.3 6.1 -7.5 0-13.2-2.1-17.1-6.4 -3.9-4.2-5.9-10.3-5.9-18.3 0-7.9 2-13.8 6-17.5 4-3.7 10.3-6.1 18.9-6.9l25.6-2.4v-7c0-5.5-1.2-9.5-3.6-11.9 -2.4-2.4-5.7-3.6-9.8-3.6h-32.1v-10.8h31.3c9.2 0 15.9 2.1 20.1 6.4C287.8 486.4 289.9 493.1 289.9 502.1zM239.7 535.3c0 10 4.1 15 12.4 15 7.4 0 14.7-1.2 21.8-3.7l3.7-1.3v-26.9l-24.1 2.3c-4.9 0.4-8.4 1.8-10.6 4.2C240.7 527.3 239.7 530.8 239.7 535.3z"/><path d="M337.6 486.7c-11.8 0-17.8 4.1-17.8 12.4 0 3.8 1.4 6.5 4.1 8.1s8.9 3.2 18.6 4.9c9.7 1.7 16.5 4 20.5 7.1 4 3 6 8.7 6 17.1 0 8.4-2.7 14.5-8.1 18.4 -5.4 3.9-13.2 5.9-23.6 5.9 -6.7 0-29.2-2.5-29.2-2.5l0.7-10.6c12.9 1.2 22.3 2.2 28.6 2.2 6.3 0 11.1-1 14.4-3s5-5.4 5-10.1 -1.4-7.9-4.2-9.6c-2.8-1.7-9-3.3-18.6-4.8s-16.4-3.7-20.4-6.7c-4-2.9-6-8.4-6-16.3 0-7.9 2.8-13.8 8.4-17.6 5.6-3.8 12.6-5.7 20.9-5.7 6.6 0 29.6 1.7 29.6 1.7v10.7C354.4 487.6 344.5 486.7 337.6 486.7z"/><path d="M428 488.1h-25.9v39c0 9.3 0.7 15.5 2 18.4 1.4 2.9 4.6 4.4 9.7 4.4l14.5-1 0.8 10.1c-7.3 1.2-12.8 1.8-16.6 1.8 -8.5 0-14.3-2.1-17.6-6.2s-4.9-12-4.9-23.6v-42.9h-11.6v-10.6H390v-25h12.1v24.9H428V488.1z"/><path d="M445 459v-14.1h12.2v14.2L445 459 445 459zM445 559v-81.5h12.2V559H445z"/><path d="M510.2 475.8c3.6 0 9.7 0.7 18.3 2l3.9 0.5 -0.5 9.9c-8.7-1-15.1-1.5-19.2-1.5 -9.2 0-15.5 2.2-18.8 6.6s-5 12.6-5 24.5c0 11.9 1.5 20.2 4.6 24.9 3.1 4.7 9.5 7 19.3 7l19.2-1.5 0.5 10.1c-10.1 1.5-17.7 2.3-22.7 2.3 -12.7 0-21.5-3.3-26.3-9.8s-7.3-17.5-7.3-33 2.6-26.4 7.8-32.6C489.3 479 498 475.8 510.2 475.8z"/></svg>
						</div>
					</a>
				</h1>
			</div>
			<nav id="nav">
				<ul>
					
					<li>
						
							
						
						<a href="/products" id="nav_products"   >Products</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a>
									
								</li>								
							
								<li>
									

									
										<a href="/cloud" id="nav_elasticsearch_as_a_service" >elasticsearch as a service</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/logstash" id="nav_logstash" >logstash</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/kibana" id="nav_kibana" >kibana</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/beats" id="nav_beats" >beats</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/watcher" id="nav_watcher" >watcher</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/shield" id="nav_shield" >shield</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/marvel" id="nav_marvel" >marvel</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/graph" id="nav_graph" >graph</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/hadoop" id="nav_hadoop" >hadoop</a>
									
								</li>								
							
								<li>
									

									
										<a href="/downloads" id="nav_downloads" >downloads</a>
									
								</li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/cloud" id="nav_cloud"   >Cloud</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/subscriptions" id="nav_subscriptions"   >Subscriptions</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/learn" id="nav_learn"   >Learn</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/guide" id="nav_guide" >docs</a>
									
								</li>								
							
								<li>
									

									
										<a href="/videos" id="nav_videos" >videos</a>
									
								</li>								
							
								<li>
									

									
										<a href="/training" id="nav_training" >training</a>
									
								</li>								
							
								<li>
									

									
										<a href="/services" id="nav_services" >services</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog" id="nav_learn_blog" >blog</a>
									
								</li>								
							
								<li>
									

									
										<a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a>
									
								</li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/community" id="nav_community"   >Community</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/community/meetups" id="nav_meetups" >meetups</a>
									
								</li>								
							
								<li>
									

									
										<a href="https://discuss.elastic.co" id="nav_forums" target="_blank">forums</a>
									
								</li>								
							
								<li>
									

									
										<a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a>
									
								</li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/use-cases" id="nav_usecases"   >Use Cases</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/blog" id="nav_blog"   >Blog</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/blog/category/news" id="blog_news" >News</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog/category/engineering" id="blog_engineering" >Engineering</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog/category/releases" id="blog_releases" >Releases</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog/archive" id="blog_archive" >Archive</a>
									
								</li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/about" id="nav_about"   >About</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/about/leadership" id="nav_leadership" >leadership</a>
									
								</li>								
							
								<li>
									

									
										<a href="/about/board" id="nav_board" >board of directors</a>
									
								</li>								
							
								<li>
									

									
										<a href="/about/careers" id="nav_careers" >careers</a>
									
								</li>								
							
								<li>
									

									
										<a href="/about/partners" id="nav_partners" >partners</a>
									
								</li>								
							
								<li>
									

									
										<a href="/about/press" id="nav_press" >press</a>
									
								</li>								
								
						</ul>							
					</li>
					
				</ul>
			</nav>			
		</div>
		<div class="1u 6u(small) 6u(xsmall)">
			<div id="searchbar">
				<a href="#" class="button icon"></a>
			</div>
		</div>
	</div>
</section>
<div class="mobile-menu-wrapper">
	<div class="row 0%">
		<div class="8u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" viewBox="-155 383.3 687.5 235.7" xml:space="preserve" enable-background="new -155 383.3 687.5 235.7"><path fill="#FFFFFF" d="M81.6 506.8c0-19.8-12.3-37.2-30.8-43.9 0.8-4.2 1.2-8.4 1.2-12.7 0-36.9-30-66.9-66.8-66.9 -21.6 0-41.6 10.3-54.2 27.7 -6.2-4.8-13.8-7.4-21.7-7.4 -19.6 0-35.5 15.9-35.5 35.5 0 4.3 0.8 8.5 2.2 12.4 -18.4 6.6-31 24.3-31 44 0 19.9 12.4 37.3 30.9 44 -0.8 4.1-1.2 8.4-1.2 12.7 0 36.8 29.9 66.7 66.7 66.7 21.6 0 41.6-10.4 54.1-27.8 6.2 4.9 13.8 7.6 21.7 7.6 19.6 0 35.5-15.9 35.5-35.5 0-4.3-0.8-8.5-2.2-12.4C68.9 544.2 81.6 526.5 81.6 506.8"/><path fill="#FED10A" d="M-62 484.8l51.8 23.6L42 462.6c0.8-3.8 1.1-7.5 1.1-11.5 0-32.2-26.2-58.4-58.4-58.4 -19.3 0-37.2 9.5-48.1 25.4l-8.7 45.1L-62 484.8z"/><path fill="#24BBB1" d="M-115.6 539.6c-0.8 3.8-1.1 7.7-1.1 11.7 0 32.3 26.3 58.5 58.6 58.5 19.4 0 37.5-9.6 48.4-25.6l8.6-44.9 -11.5-22 -52-23.7L-115.6 539.6z"/><path fill="#EF5098" d="M-115.9 450l35.5 8.4 7.8-40.3c-4.8-3.7-10.8-5.7-17-5.7 -15.4 0-28 12.5-28 28C-117.6 443.7-117 447-115.9 450"/><path fill="#17A8E0" d="M-119 458.5c-15.8 5.2-26.9 20.4-26.9 37.1 0 16.3 10.1 30.8 25.2 36.6l49.8-45 -9.1-19.5L-119 458.5z"/><path fill="#93C83E" d="M-0.7 584.2c4.9 3.7 10.8 5.8 16.9 5.8 15.4 0 28-12.5 28-28 0-3.4-0.6-6.7-1.7-9.7L7.1 544 -0.7 584.2z"/><path fill="#0779A1" d="M6.5 534.7l39 9.1c15.9-5.2 26.9-20.4 26.9-37.2 0-16.2-10.1-30.8-25.2-36.5l-51 44.7L6.5 534.7z"/><path d="M175.8 548.8l4.7-0.5 0.3 9.6c-12.4 1.7-23 2.6-31.8 2.6 -11.7 0-20-3.4-24.9-10.2s-7.3-17.4-7.3-31.7c0-28.6 11.4-42.9 34.1-42.9 11 0 19.2 3.1 24.6 9.2s8.1 15.8 8.1 28.9l-0.7 9.3h-53.8c0 9 1.6 15.7 4.9 20 3.3 4.3 8.9 6.5 17 6.5C159.2 549.8 167.4 549.5 175.8 548.8zM171.4 513.5c0-10-1.6-17.1-4.8-21.2 -3.2-4.1-8.4-6.2-15.6-6.2s-12.7 2.2-16.3 6.5c-3.6 4.3-5.5 11.3-5.6 20.9H171.4z"/><path d="M200.6 559V442h12.2v117H200.6z"/><path d="M289.9 502.1v40.1c0 4.1 10.1 4.9 10.1 4.9l-0.6 10.8c-8.6 0-15.7 0.7-20-3.4 -9.8 4.3-19.5 6.1-29.3 6.1 -7.5 0-13.2-2.1-17.1-6.4 -3.9-4.2-5.9-10.3-5.9-18.3 0-7.9 2-13.8 6-17.5 4-3.7 10.3-6.1 18.9-6.9l25.6-2.4v-7c0-5.5-1.2-9.5-3.6-11.9 -2.4-2.4-5.7-3.6-9.8-3.6h-32.1v-10.8h31.3c9.2 0 15.9 2.1 20.1 6.4C287.8 486.4 289.9 493.1 289.9 502.1zM239.7 535.3c0 10 4.1 15 12.4 15 7.4 0 14.7-1.2 21.8-3.7l3.7-1.3v-26.9l-24.1 2.3c-4.9 0.4-8.4 1.8-10.6 4.2C240.7 527.3 239.7 530.8 239.7 535.3z"/><path d="M337.6 486.7c-11.8 0-17.8 4.1-17.8 12.4 0 3.8 1.4 6.5 4.1 8.1s8.9 3.2 18.6 4.9c9.7 1.7 16.5 4 20.5 7.1 4 3 6 8.7 6 17.1 0 8.4-2.7 14.5-8.1 18.4 -5.4 3.9-13.2 5.9-23.6 5.9 -6.7 0-29.2-2.5-29.2-2.5l0.7-10.6c12.9 1.2 22.3 2.2 28.6 2.2 6.3 0 11.1-1 14.4-3s5-5.4 5-10.1 -1.4-7.9-4.2-9.6c-2.8-1.7-9-3.3-18.6-4.8s-16.4-3.7-20.4-6.7c-4-2.9-6-8.4-6-16.3 0-7.9 2.8-13.8 8.4-17.6 5.6-3.8 12.6-5.7 20.9-5.7 6.6 0 29.6 1.7 29.6 1.7v10.7C354.4 487.6 344.5 486.7 337.6 486.7z"/><path d="M428 488.1h-25.9v39c0 9.3 0.7 15.5 2 18.4 1.4 2.9 4.6 4.4 9.7 4.4l14.5-1 0.8 10.1c-7.3 1.2-12.8 1.8-16.6 1.8 -8.5 0-14.3-2.1-17.6-6.2s-4.9-12-4.9-23.6v-42.9h-11.6v-10.6H390v-25h12.1v24.9H428V488.1z"/><path d="M445 459v-14.1h12.2v14.2L445 459 445 459zM445 559v-81.5h12.2V559H445z"/><path d="M510.2 475.8c3.6 0 9.7 0.7 18.3 2l3.9 0.5 -0.5 9.9c-8.7-1-15.1-1.5-19.2-1.5 -9.2 0-15.5 2.2-18.8 6.6s-5 12.6-5 24.5c0 11.9 1.5 20.2 4.6 24.9 3.1 4.7 9.5 7 19.3 7l19.2-1.5 0.5 10.1c-10.1 1.5-17.7 2.3-22.7 2.3 -12.7 0-21.5-3.3-26.3-9.8s-7.3-17.5-7.3-33 2.6-26.4 7.8-32.6C489.3 479 498 475.8 510.2 475.8z"/></svg>
						</div>
					</a>
				</h1>
			</div>
		</div>
		<div class="4u 6u(small) 6u(xsmall) text-right">
			<!-- <div class="mobile-menu-wrapper"> -->
				<ul class="m-shortcuts">
					
						

						
							<li><a href="#" class="m-search" id="header-search"></a></li>
						
					
						

						
							<li><a href="/guide" class="m-docs" id="mobile-docs"></a></li>
						
					
						

						
							<li><a href="/contact" class="m-contact" id="mobile-contact"></a></li>
						
					
				</ul>	
				<nav class="nav-menu">
					<div class="menu-button">
						<span></span>
					</div>
					<div class="nav-menu-list-wrap">
						<div class="nav-menu-list">
							
								<h3><a href="/products" id="nav_products" >Products</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>
									
									
									
									
									
									
										<li><a href="/cloud" id="nav_elasticsearch_as_a_service" >elasticsearch as a service</a></li>
									
									
									
									
									
									
										<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>
									
									
									
									
									
									
										<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>
									
									
									
									
									
									
										<li><a href="/products/beats" id="nav_beats" >beats</a></li>
									
									
									
									
									
									
										<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>
									
									
									
									
									
									
										<li><a href="/products/shield" id="nav_shield" >shield</a></li>
									
									
									
									
									
									
										<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>
									
									
									
									
									
									
										<li><a href="/products/graph" id="nav_graph" >graph</a></li>
									
									
									
									
									
									
										<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>
									
									
									
									
									
									
										<li><a href="/downloads" id="nav_downloads" >downloads</a></li>
									
									
									
								</ul>
								
							
								<h3><a href="/cloud" id="nav_cloud" >Cloud</a></h3>
								
							
								<h3><a href="/subscriptions" id="nav_subscriptions" >Subscriptions</a></h3>
								
							
								<h3><a href="/learn" id="nav_learn" >Learn</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/guide" id="nav_guide" >docs</a></li>
									
									
									
									
									
									
										<li><a href="/videos" id="nav_videos" >videos</a></li>
									
									
									
									
									
									
										<li><a href="/training" id="nav_training" >training</a></li>
									
									
									
									
									
									
										<li><a href="/services" id="nav_services" >services</a></li>
									
									
									
									
									
									
										<li><a href="/blog" id="nav_learn_blog" >blog</a></li>
									
									
									
									
									
									
										<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>
									
									
									
								</ul>
								
							
								<h3><a href="/community" id="nav_community" >Community</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>
									
									
									
									
									
									
										<li><a href="https://discuss.elastic.co" id="nav_forums" target="_blank">forums</a></li>
									
									
									
									
									
									
										<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>
									
									
									
								</ul>
								
							
								<h3><a href="/use-cases" id="nav_usecases" >Use Cases</a></h3>
								
							
								<h3><a href="/blog" id="nav_blog" >Blog</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/blog/category/news" id="blog_news" >News</a></li>
									
									
									
									
									
									
										<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>
									
									
									
									
									
									
										<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>
									
									
									
									
									
									
										<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>
									
									
									
									
									
									
										<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>
									
									
									
								</ul>
								
							
								<h3><a href="/about" id="nav_about" >About</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>
									
									
									
									
									
									
										<li><a href="/about/board" id="nav_board" >board of directors</a></li>
									
									
									
									
									
									
										<li><a href="/about/careers" id="nav_careers" >careers</a></li>
									
									
									
									
									
									
										<li><a href="/about/partners" id="nav_partners" >partners</a></li>
									
									
									
									
									
									
										<li><a href="/about/press" id="nav_press" >press</a></li>
									
									
									
								</ul>
								
							
						</div>
					</div>
				</nav>
			<!-- </div> -->
		</div>
	</div>
</div>
<!-- Mobile Menu -->


		</div>
	</div>
</div>
<div class="header-search-wrapper">	
	<div class="container">
		<div class="big-search">
			<i class="big-search-icon"></i>
			<form method="get" action="/search" autocomplete="on" name="searchForm" id="searchfrm">
				<ul class="tags-wrapper">
					<li class="search-field"><input type="text" class="form-control global-input" id="autocomplete" name="q"></li>
				</ul>
			</form>
			<a href="#" class="header-search-cancel"></a>
		</div>
		<div class="nav-auto-complete"></div>
	</div>
</div>
<style>	
	
	
		.m-shortcuts li a.m-search {
			background: url("https://stag-static-www.elastic.co/assets/blt174b13be89ff803c/m-search-icon.png?q=500") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-docs {
			background: url("https://stag-static-www.elastic.co/assets/blt5ba03f594a7d610a/m-guide-icon.png?q=500") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-contact {
			background: url("https://stag-static-www.elastic.co/assets/blt38c3e853c4b1174d/m-contact-icon.png?q=500") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
		
</style>
		</div>
	</div>
  	<div id="content">
  		
	  			
            <div id="pageheader">
    <div class="container">
        <header>
            <h1><a href="/learn" title="Learn">Learn</a> |</h1>
            <h2><a href="/guide" title="Docs">Docs</a></h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch.Net and NEST:  the .NET clients
      [2.x]
    </a></span> » <span class="breadcrumb-link"><a href="nest.html">Client Concepts - NEST </a></span> » <span class="breadcrumb-node">Auto mapping properties</span></div><div class="navheader"><span class="prev"><a href="features-inference.html">
              « 
              Features Inference</a>
           
        </span><span class="next">
           
          <a href="covariant-search-results.html">Covariant Search Results
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="auto-map"></a>Auto mapping properties<a href="https://github.com/elastic/elasticsearch-net/edit/2.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>When creating a mapping (either when creating an index or via the put mapping API),
NEST offers a feature called <code class="literal">.AutoMap()</code>, which will automagically infer the correct
Elasticsearch datatypes of the POCO properties you are mapping.  Alternatively, if
you’re using attributes to map your properties, then calling <code class="literal">.AutoMap()</code> is required
in order for your attributes to be applied.  We’ll look at the features of auto mapping
with a number of examples.</p><p>For these examples, we’ll define two POCOS, <code class="literal">Company</code>, which has a name
and a collection of Employees, and <code class="literal">Employee</code> which has various properties of
different types, and itself has a collection of <code class="literal">Employee</code> types.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">public class Company
{
    public string Name { get; set; }
    public List&lt;Employee&gt; Employees { get; set; }
}

public class Employee
{
    public string FirstName { get; set; }
    public string LastName { get; set; }
    public int Salary { get; set; }
    public DateTime Birthday { get; set; }
    public bool IsManager { get; set; }
    public List&lt;Employee&gt; Employees { get; set; }
    public TimeSpan Hours { get; set; }
}</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_manual_mapping"></a>Manual mapping<a href="https://github.com/elastic/elasticsearch-net/edit/2.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>To create a mapping for our Company type, we can use the fluent API
and map each property explicitly</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;Company&gt;(m =&gt; m
            .Properties(ps =&gt; ps
                .String(s =&gt; s
                    .Name(c =&gt; c.Name) <a id="CO18-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
                )
                .Object&lt;Employee&gt;(o =&gt; o  <a id="CO18-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
                    .Name(c =&gt; c.Employees)
                    .Properties(eps =&gt; eps
                        .String(s =&gt; s
                            .Name(e =&gt; e.FirstName)
                        )
                        .String(s =&gt; s
                            .Name(e =&gt; e.LastName)
                        )
                        .Number(n =&gt; n
                            .Name(e =&gt; e.Salary)
                            .Type(NumberType.Integer)
                        )
                    )
                )
            )
        )
    );</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO18-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
map <code class="literal">Name</code> as a <code class="literal">string</code> type
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO18-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
map <code class="literal">Employees</code> as an <code class="literal">object</code> type, mapping each of the properties of <code class="literal">Employee</code>
</p></td></tr></table></div><p>This is all fine and dandy and useful for some use cases however in most cases
this can become verbose and wieldy. The majority of the time you simply just want to map <span class="strong"><strong>all</strong></span>
the properties of a POCO in a single go.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var expected = new
{
    mappings = new
    {
        company = new
        {
            properties = new
            {
                name = new
                {
                    type = "string"
                },
                employees = new
                {
                    type = "object",
                    properties = new
                    {
                        firstName = new
                        {
                            type = "string"
                        },
                        lastName = new
                        {
                            type = "string"
                        },
                        salary = new
                        {
                            type = "integer"
                        }
                    }
                }
            }
        }
    }
};

Expect(expected).WhenSerializing((ICreateIndexRequest)descriptor);</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_simple_automapping"></a>Simple Automapping<a href="https://github.com/elastic/elasticsearch-net/edit/2.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>This is exactly where <code class="literal">.AutoMap()</code> becomes useful. Instead of manually mapping each property,
explicitly, we can instead call <code class="literal">.AutoMap()</code> for each of our mappings and let NEST do all the work</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;Company&gt;(m =&gt; m.AutoMap())
        .Map&lt;Employee&gt;(m =&gt; m.AutoMap())
    );</pre></div><p>Observe that NEST has inferred the Elasticsearch types based on the CLR type of our POCO properties.
In this example,</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Birthday was mapped as a <code class="literal">date</code>,
</li><li class="listitem">
Hours was mapped as a <code class="literal">long</code> (ticks)
</li><li class="listitem">
IsManager was mapped as a <code class="literal">bool</code>,
</li><li class="listitem">
Salary as an <code class="literal">integer</code>
</li><li class="listitem">
Employees as an <code class="literal">object</code>
</li></ul></div><p>and the remaining string properties as <code class="literal">string</code> types</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var expected = new
{
    mappings = new
    {
        company = new
        {
            properties = new
            {
                employees = new
                {
                    properties = new
                    {
                        birthday = new
                        {
                            type = "date"
                        },
                        employees = new
                        {
                            properties = new { },
                            type = "object"
                        },
                        firstName = new
                        {
                            type = "string"
                        },
                        hours = new
                        {
                            type = "long"
                        },
                        isManager = new
                        {
                            type = "boolean"
                        },
                        lastName = new
                        {
                            type = "string"
                        },
                        salary = new
                        {
                            type = "integer"
                        }
                    },
                    type = "object"
                },
                name = new
                {
                    type = "string"
                }
            }
        },
        employee = new
        {
            properties = new
            {
                birthday = new
                {
                    type = "date"
                },
                employees = new
                {
                    properties = new { },
                    type = "object"
                },
                firstName = new
                {
                    type = "string"
                },
                hours = new
                {
                    type = "long"
                },
                isManager = new
                {
                    type = "boolean"
                },
                lastName = new
                {
                    type = "string"
                },
                salary = new
                {
                    type = "integer"
                }
            }
        }
    }
};

Expect(expected).WhenSerializing((ICreateIndexRequest)descriptor);</pre></div><h2><a id="auto-mapping-with-overrides"></a>Auto mapping with overrides<a href="https://github.com/elastic/elasticsearch-net/edit/2.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><p>In most cases, you’ll want to map more than just the vanilla datatypes and also provide
various options for your properties (analyzer to use, whether to enable doc_values, etc…).
In that case, it’s possible to use <code class="literal">.AutoMap()</code> in conjunction with explicitly mapped properties.</p><p>Here we are using <code class="literal">.AutoMap()</code> to automatically map our company type, but then we’re
overriding our employee property and making it a <code class="literal">nested</code> type, since by default,
<code class="literal">.AutoMap()</code> will infer objects as <code class="literal">object</code>.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;Company&gt;(m =&gt; m
            .AutoMap()
            .Properties(ps =&gt; ps
                .Nested&lt;Employee&gt;(n =&gt; n
                    .Name(c =&gt; c.Employees)
                )
            )
        )
    );

var expected = new
{
    mappings = new
    {
        company = new
        {
            properties = new
            {
                name = new
                {
                    type = "string"
                },
                employees = new
                {
                    type = "nested",
                }
            }
        }
    }
};

Expect(expected).WhenSerializing((ICreateIndexRequest)descriptor);</pre></div><p><code class="literal">.AutoMap()</code> is idempotent; calling it before or after manually
mapped properties will still yield the same results.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;Company&gt;(m =&gt; m
            .Properties(ps =&gt; ps
                .Nested&lt;Employee&gt;(n =&gt; n
                    .Name(c =&gt; c.Employees)
                )
            )
            .AutoMap()
        )
    );

Expect(expected).WhenSerializing((ICreateIndexRequest)descriptor);</pre></div><h2><a id="attribute-mapping"></a>Attribute mapping<a href="https://github.com/elastic/elasticsearch-net/edit/2.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><p>It is also possible to define your mappings using attributes on your POCOs.  When you
use attributes, you <span class="strong"><strong>must</strong></span> use <code class="literal">.AutoMap()</code> in order for the attributes to be applied.
Here we define the same two types as before, but this time using attributes to define the mappings.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">[ElasticsearchType(Name = "company")]
public class CompanyWithAttributes
{
    [String(Analyzer = "keyword", NullValue = "null", Similarity = SimilarityOption.BM25)]
    public string Name { get; set; }

    [String(Name = "office_hours")]
    public TimeSpan? HeadOfficeHours { get; set; }

    [Object(Path = "employees", Store = false)]
    public List&lt;Employee&gt; Employees { get; set; }
}

[ElasticsearchType(Name = "employee")]
public class EmployeeWithAttributes
{
    [String(Name = "first_name")]
    public string FirstName { get; set; }

    [String(Name = "last_name")]
    public string LastName { get; set; }

    [Number(DocValues = false, IgnoreMalformed = true, Coerce = true)]
    public int Salary { get; set; }

    [Date(Format = "MMddyyyy", NumericResolution = NumericResolutionUnit.Seconds)]
    public DateTime Birthday { get; set; }

    [Boolean(NullValue = false, Store = true)]
    public bool IsManager { get; set; }

    [Nested(Path = "employees")]
    [JsonProperty("empl")]
    public List&lt;Employee&gt; Employees { get; set; }
}</pre></div><p>Then we map the types by calling <code class="literal">.AutoMap()</code></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;CompanyWithAttributes&gt;(m =&gt; m.AutoMap())
        .Map&lt;EmployeeWithAttributes&gt;(m =&gt; m.AutoMap())
    );

var expected = new
{
    mappings = new
    {
        company = new
        {
            properties = new
            {
                employees = new
                {
                    path = "employees",
                    properties = new
                    {
                        birthday = new
                        {
                            type = "date"
                        },
                        employees = new
                        {
                            properties = new { },
                            type = "object"
                        },
                        firstName = new
                        {
                            type = "string"
                        },
                        hours = new
                        {
                            type = "long"
                        },
                        isManager = new
                        {
                            type = "boolean"
                        },
                        lastName = new
                        {
                            type = "string"
                        },
                        salary = new
                        {
                            type = "integer"
                        }
                    },
                    store = false,
                    type = "object"
                },
                name = new
                {
                    analyzer = "keyword",
                    null_value = "null",
                    similarity = "BM25",
                    type = "string"
                },
                office_hours = new
                {
                    type = "string"
                }
            }
        },
        employee = new
        {
            properties = new
            {
                birthday = new
                {
                    format = "MMddyyyy",
                    numeric_resolution = "seconds",
                    type = "date"
                },
                empl = new
                {
                    path = "employees",
                    properties = new
                    {
                        birthday = new
                        {
                            type = "date"
                        },
                        employees = new
                        {
                            properties = new { },
                            type = "object"
                        },
                        firstName = new
                        {
                            type = "string"
                        },
                        hours = new
                        {
                            type = "long"
                        },
                        isManager = new
                        {
                            type = "boolean"
                        },
                        lastName = new
                        {
                            type = "string"
                        },
                        salary = new
                        {
                            type = "integer"
                        }
                    },
                    type = "nested"
                },
                first_name = new
                {
                    type = "string"
                },
                isManager = new
                {
                    null_value = false,
                    store = true,
                    type = "boolean"
                },
                last_name = new
                {
                    type = "string"
                },
                salary = new
                {
                    coerce = true,
                    doc_values = false,
                    ignore_malformed = true,
                    type = "double"
                }
            }
        }
    }
};

Expect(expected).WhenSerializing((ICreateIndexRequest) descriptor);</pre></div><p>Just as we were able to override the inferred properties in our earlier example, explicit (manual)
mappings also take precedence over attributes.  Therefore we can also override any mappings applied
via any attributes defined on the POCO</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;CompanyWithAttributes&gt;(m =&gt; m
            .AutoMap()
            .Properties(ps =&gt; ps
                .Nested&lt;Employee&gt;(n =&gt; n
                    .Name(c =&gt; c.Employees)
                )
            )
        )
        .Map&lt;EmployeeWithAttributes&gt;(m =&gt; m
            .AutoMap()
            .TtlField(ttl =&gt; ttl
                .Enable()
                .Default("10m")
            )
            .Properties(ps =&gt; ps
                .String(s =&gt; s
                    .Name(e =&gt; e.FirstName)
                    .Fields(fs =&gt; fs
                        .String(ss =&gt; ss
                            .Name("firstNameRaw")
                            .Index(FieldIndexOption.NotAnalyzed)
                        )
                        .TokenCount(t =&gt; t
                            .Name("length")
                            .Analyzer("standard")
                        )
                    )
                )
                .Number(n =&gt; n
                    .Name(e =&gt; e.Salary)
                    .Type(NumberType.Double)
                    .IgnoreMalformed(false)
                )
                .Date(d =&gt; d
                    .Name(e =&gt; e.Birthday)
                    .Format("MM-dd-yy")
                )
            )
        )
    );

var expected = new
{
    mappings = new
    {
        company = new
        {
            properties = new
            {
                employees = new
                {
                    type = "nested"
                },
                name = new
                {
                    analyzer = "keyword",
                    null_value = "null",
                    similarity = "BM25",
                    type = "string"
                },
                office_hours = new
                {
                    type = "string"
                }
            }
        },
        employee = new
        {
            _ttl = new
            {
                enabled = true,
                @default = "10m"
            },
            properties = new
            {
                birthday = new
                {
                    format = "MM-dd-yy",
                    type = "date"
                },
                empl = new
                {
                    path = "employees",
                    properties = new
                    {
                        birthday = new
                        {
                            type = "date"
                        },
                        employees = new
                        {
                            properties = new { },
                            type = "object"
                        },
                        firstName = new
                        {
                            type = "string"
                        },
                        hours = new
                        {
                            type = "long"
                        },
                        isManager = new
                        {
                            type = "boolean"
                        },
                        lastName = new
                        {
                            type = "string"
                        },
                        salary = new
                        {
                            type = "integer"
                        }
                    },
                    type = "nested"
                },
                first_name = new
                {
                    fields = new
                    {
                        firstNameRaw = new
                        {
                            index = "not_analyzed",
                            type = "string"
                        },
                        length = new
                        {
                            type = "token_count",
                            analyzer = "standard"
                        }
                    },
                    type = "string"
                },
                isManager = new
                {
                    null_value = false,
                    store = true,
                    type = "boolean"
                },
                last_name = new
                {
                    type = "string"
                },
                salary = new
                {
                    ignore_malformed = false,
                    type = "double"
                }
            }
        }
    }
};

Expect(expected).WhenSerializing((ICreateIndexRequest)descriptor);</pre></div><h2><a id="ignoring-properties"></a>Ignoring Properties<a href="https://github.com/elastic/elasticsearch-net/edit/2.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><p>Properties on a POCO can be ignored in a few ways:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Using the <code class="literal">Ignore</code> property on a derived <code class="literal">ElasticsearchPropertyAttribute</code> type applied to the property that should be ignored on the POCO
</li><li class="listitem">
Using the <code class="literal">.InferMappingFor&lt;TDocument&gt;(Func&lt;ClrTypeMappingDescriptor&lt;TDocument&gt;, IClrTypeMapping&lt;TDocument&gt;&gt; selector)</code> on the connection settings
</li><li class="listitem">
Using an ignore attribute applied to the POCO property that is understood by the <code class="literal">IElasticsearchSerializer</code> used, and inspected inside of the <code class="literal">CreatePropertyMapping()</code> on the serializer. In the case of the default <code class="literal">JsonNetSerializer</code>, this is the Json.NET <code class="literal">JsonIgnoreAttribute</code>
</li></ul></div><p>This example demonstrates all ways, using the <code class="literal">Ignore</code> property on the attribute to ignore the property <code class="literal">PropertyToIgnore</code>, the infer mapping to ignore the
property <code class="literal">AnotherPropertyToIgnore</code> and the json serializer specific attribute  to ignore the property <code class="literal">JsonIgnoredProperty</code></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">[ElasticsearchType(Name = "company")]
public class CompanyWithAttributesAndPropertiesToIgnore
{
    public string Name { get; set; }

    [String(Ignore = true)]
    public string PropertyToIgnore { get; set; }

    public string AnotherPropertyToIgnore { get; set; }

    [JsonIgnore]
    public string JsonIgnoredProperty { get; set; }
}</pre></div><p>All of the properties except <code class="literal">Name</code> have been ignored in the mapping</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;CompanyWithAttributesAndPropertiesToIgnore&gt;(m =&gt; m
            .AutoMap()
        )
    );

var expected = new
{
    mappings = new
    {
        company = new
        {
            properties = new
            {
                name = new
                {
                    type = "string"
                }
            }
        }
    }
};

var settings = WithConnectionSettings(s =&gt; s
    .InferMappingFor&lt;CompanyWithAttributesAndPropertiesToIgnore&gt;(i =&gt; i
        .Ignore(p =&gt; p.AnotherPropertyToIgnore)
    )
);

settings.Expect(expected).WhenSerializing((ICreateIndexRequest)descriptor);</pre></div><h2><a id="mapping-recursion"></a>Mapping Recursion<a href="https://github.com/elastic/elasticsearch-net/edit/2.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><p>If you notice in our previous <code class="literal">Company</code> and <code class="literal">Employee</code> examples, the <code class="literal">Employee</code> type is recursive
in that the <code class="literal">Employee</code> class itself contains a collection of type <code class="literal">Employee</code>. By default, <code class="literal">.AutoMap()</code> will only
traverse a single depth when it encounters recursive instances like this.  Hence, in the
previous examples, the collection of type <code class="literal">Employee</code> on the <code class="literal">Employee</code> class did not get any of its properties mapped.
This is done as a safe-guard to prevent stack overflows and all the fun that comes with
infinite recursion.  Additionally, in most cases, when it comes to Elasticsearch mappings, it is
often an edge case to have deeply nested mappings like this.  However, you may still have
the need to do this, so you can control the recursion depth of <code class="literal">.AutoMap()</code>.</p><p>Let’s introduce a very simple class, <code class="literal">A</code>, which itself has a property
Child of type <code class="literal">A</code>.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">public class A
{
    public A Child { get; set; }
}</pre></div><p>By default, <code class="literal">.AutoMap()</code> only goes as far as depth 1</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;A&gt;(m =&gt; m.AutoMap())
    );</pre></div><p>Thus we do not map properties on the second occurrence of our Child property</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var expected = new
{
    mappings = new
    {
        a = new
        {
            properties = new
            {
                child = new
                {
                    properties = new { },
                    type = "object"
                }
            }
        }
    }
};

Expect(expected).WhenSerializing((ICreateIndexRequest)descriptor);</pre></div><p>Now lets specify a maxRecursion of 3</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var withMaxRecursionDescriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;A&gt;(m =&gt; m.AutoMap(3))
    );</pre></div><p><code class="literal">.AutoMap()</code> has now mapped three levels of our Child property</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var expectedWithMaxRecursion = new
{
    mappings = new
    {
        a = new
        {
            properties = new
            {
                child = new
                {
                    type = "object",
                    properties = new
                    {
                        child = new
                        {
                            type = "object",
                            properties = new
                            {
                                child = new
                                {
                                    type = "object",
                                    properties = new
                                    {
                                        child = new
                                        {
                                            type = "object",
                                            properties = new { }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
};

Expect(expectedWithMaxRecursion).WhenSerializing((ICreateIndexRequest)withMaxRecursionDescriptor);</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new PutMappingDescriptor&lt;A&gt;().AutoMap();

var expected = new
{
    properties = new
    {
        child = new
        {
            properties = new { },
            type = "object"
        }
    }
};

Expect(expected).WhenSerializing((IPutMappingRequest)descriptor);

var withMaxRecursionDescriptor = new PutMappingDescriptor&lt;A&gt;().AutoMap(3);

var expectedWithMaxRecursion = new
{
    properties = new
    {
        child = new
        {
            type = "object",
            properties = new
            {
                child = new
                {
                    type = "object",
                    properties = new
                    {
                        child = new
                        {
                            type = "object",
                            properties = new
                            {
                                child = new
                                {
                                    type = "object",
                                    properties = new { }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
};

Expect(expectedWithMaxRecursion).WhenSerializing((IPutMappingRequest)withMaxRecursionDescriptor);</pre></div><h2><a id="applying-conventions-through-the-visitor-pattern"></a>Applying conventions through the Visitor pattern<a href="https://github.com/elastic/elasticsearch-net/edit/2.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><p>It is also possible to apply a transformation on all or specific properties.</p><p><code class="literal">.AutoMap()</code> internally implements the <a class="ulink" href="https://en.wikipedia.org/wiki/Visitor_pattern" target="_top">visitor pattern</a>. The default visitor, <code class="literal">NoopPropertyVisitor</code>,
does nothing and acts as a blank canvas for you to implement your own visiting methods.</p><p>For instance, lets create a custom visitor that disables doc values for numeric and boolean types
(Not really a good idea in practice, but let’s do it anyway for the sake of a clear example.)</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">public class DisableDocValuesPropertyVisitor : NoopPropertyVisitor
{
    public override void Visit(
        INumberProperty type,
        PropertyInfo propertyInfo,
        ElasticsearchPropertyAttributeBase attribute) <a id="CO19-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    {
        type.DocValues = false;
    }

    public override void Visit(
        IBooleanProperty type,
        PropertyInfo propertyInfo,
        ElasticsearchPropertyAttributeBase attribute) <a id="CO19-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    {
        type.DocValues = false;
    }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO19-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Override the <code class="literal">Visit</code> method on <code class="literal">INumberProperty</code> and set <code class="literal">DocValues = false</code>
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO19-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Similarily, override the <code class="literal">Visit</code> method on <code class="literal">IBooleanProperty</code> and set <code class="literal">DocValues = false</code>
</p></td></tr></table></div><p>Now we can pass an instance of our custom visitor to <code class="literal">.AutoMap()</code></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;Employee&gt;(m =&gt; m.AutoMap(new DisableDocValuesPropertyVisitor()))
    );</pre></div><p>and any time the client maps a property of the POCO (Employee in this example) as a number (INumberProperty) or boolean (IBooleanProperty),
it will apply the transformation defined in each <code class="literal">Visit()</code> call respectively, which in this example
disables <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/2.3/doc-values.html" target="_top">doc_values</a>.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var expected = new
{
    mappings = new
    {
        employee = new
        {
            properties = new
            {
                birthday = new
                {
                    type = "date"
                },
                employees = new
                {
                    properties = new { },
                    type = "object"
                },
                firstName = new
                {
                    type = "string"
                },
                isManager = new
                {
                    doc_values = false,
                    type = "boolean"
                },
                lastName = new
                {
                    type = "string"
                },
                salary = new
                {
                    doc_values = false,
                    type = "integer"
                }
            }
        }
    }
};</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_visiting_on_propertyinfo"></a>Visiting on PropertyInfo<a href="https://github.com/elastic/elasticsearch-net/edit/2.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>You can even take the visitor approach a step further, and instead of visiting on <code class="literal">IProperty</code> types, visit
directly on your POCO properties (PropertyInfo). As an example, let’s create a visitor that maps all CLR types
to an Elasticsearch string (IStringProperty).</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">public class EverythingIsAStringPropertyVisitor : NoopPropertyVisitor
{
    public override IProperty Visit(
        PropertyInfo propertyInfo,
        ElasticsearchPropertyAttributeBase attribute) =&gt; new StringProperty();
}</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;Employee&gt;(m =&gt; m.AutoMap(new EverythingIsAStringPropertyVisitor()))
    );

var expected = new
{
    mappings = new
    {
        employee = new
        {
            properties = new
            {
                birthday = new
                {
                    type = "string"
                },
                employees = new
                {
                    type = "string"
                },
                firstName = new
                {
                    type = "string"
                },
                isManager = new
                {
                    type = "string"
                },
                lastName = new
                {
                    type = "string"
                },
                salary = new
                {
                    type = "string"
                }
            }
        }
    }
};</pre></div></div></div><div class="navfooter"><span class="prev"><a href="features-inference.html">
              « 
              Features Inference</a>
           
        </span><span class="next">
           
          <a href="covariant-search-results.html">Covariant Search Results
               »
            </a></span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
        >
	<h3>Top Videos</h3>
	<ul class="lists">
		<li><a href="https://www.elastic.co/webinars/elasticsearch-2-0-overview?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li>
		<li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li>
		<li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li>
	</ul>
</div>


	  	



<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
	<!-- subscribe-newsletter -->
	<div id="subscribe-newsletter">
		<div class="container">
			<div class="row">
				<div class="12u">
					<div class="subscribe-wrapper" id="rtp-newsletter">
						<header>
							<h3>Subscribe to our newsletter</h3>
						</header>
						<div class="subscribe-form">
							<form id="mktoForm_1398" class="container sb-form"></form>
							<div class="form_thanks hide">
								
									<p>Thanks for subscribing! We'll keep you updated with new releases.</p>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

  	<!-- Footer -->
	<div id="footer-wrapper">
		<section id="footer" class="container">
			<div class="row">
				<div class="12u">
					<!-- Copyright -->
					<div id="copyright">
	<p>
		© 2016. All Rights Reserved - Elasticsearch
	</p>
	<ul class="links">
		<li>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</li>
		<li><a href="/legal/trademarks" id="footer_trademarks">Trademarks</a></li>
		<li><a href="/legal/terms-of-use" id="footer_terms">Terms</a></li>
		<li><a href="/legal/privacy-policy" id="footer_privacy">Privacy</a></li>
<li><a href="/brand" id="footer_brand">Brand</a></li>
	</ul>
	<p>
		Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other&nbsp;countries.
	</p>
</div>
<!--<div class="row">
{replace4}
</div>-->
				</div>
			</div>
		</section>
	</div>

	<!-- Social Media -->
	<div id="socialmedia-wrapper">
		<section id="socialmedia" class="container">
			<!-- social icons -->
			<div id="social">
				<ul class="links">
					
						<li class="facebook grayscale"><a href="http://www.facebook.com/elastic.co" target="_blank" id="footer_facebook"></a></li>
					
						<li class="twitter grayscale"><a href="https://www.twitter.com/elastic" target="_blank" id="footer_twitter"></a></li>
					
						<li class="linkedin grayscale"><a href="https://www.linkedin.com/company/elastic-co" target="_blank" id="footer_linkedin"></a></li>
					
						<li class="xing grayscale"><a href="https://www.xing.com/companies/elastic.co" target="_blank" id="footer_xing"></a></li>
					
						<li class="youtube grayscale"><a href="https://www.youtube.com/user/elasticsearch" target="_blank" id="footer_youtube"></a></li>
					
				</ul>
			</div>
		</section>
	</div>

<style type="text/css">
	
		.facebook{background:url("https://stag-static-www.elastic.co/assets/bltda40eebd7c7cae9a/facebook.svg?q=500") no-repeat;}
	
		.twitter{background:url("https://stag-static-www.elastic.co/assets/bltfd3b1511512f4632/twitter.svg?q=500") no-repeat;}
	
		.linkedin{background:url("https://stag-static-www.elastic.co/assets/blt6b4f6f8d6b96f814/linkedin.svg?q=500") no-repeat;}
	
		.xing{background:url("https://stag-static-www.elastic.co/assets/blta76b2ae2b2f10a98/xing.svg?q=500") no-repeat;}
	
		.youtube{background:url("https://stag-static-www.elastic.co/assets/blt5761648c9581fb53/youtube.svg?q=500") no-repeat;}
	
</style>

<script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
	form.onSuccess(function(form){
		$('#mktoForm_1398').css('display','none');
		$('#subscribe-newsletter header').hide();
		$('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
		dataLayer.push({'event': 'mktoFormSubmit'});
	    return false;
  	});
});
</script>


  	</div>
  	<!-- <div class="preloader">
    	<div class="status"></div>
	</div> -->
  	<style></style>
   	<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
</script>
<script src="https://stag-static-www.elastic.co/static/js/jquery.autocomplete.js?q=500"></script>
<script src="https://stag-static-www.elastic.co/static/js/script.js?q=500"></script>


   	

   	

            <script type="text/javascript" src="docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>

            </body>
        
